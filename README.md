# baires-scp

This project started as a fork of Scamper's cvs-20210324 release from March 2021. Scamper is not on Github, so I basically copied their source ball
and started editing. In 2024, I upgraded the codebase to Scamper's 20240503 release (May 2024).

The main goal of this fork is to add a new command to Scamper: Baires traceroute (traceb in the command line). This command sends probe packets back to back, without 
waiting for a response to send the next one.

 Secondary goals:

 * Add automated acceptance tests, initially covering the new command only.
 * Add unit tests for all the new functions, and modified pre-existing ones.
 * Implement design by contract to ensure quality for all new functions and modified pre-existing ones.
 * Add continuous integration.

 These goals are intended to ensure quality for the new command, while opening the door for adding that to the remaining commands.

## Building

This is an autotools project, so those need to be installed. In an Ubuntu-like Linux distro, the usual steps are:

```
sudo apt-get install autotools-dev
sudo apt install autoconf
sudo apt-get install build-essential libtool
```

That should take care of the build dependencies. Once those are installed, the steps are the usual for an autotools-based project:

```
autoreconf --install
./configure
make
```

For a brief introduction to autotools, refer to these blog posts:

- [Introduction to GNU autotools](https://programatealgo.blogspot.com/2023/03/gnu-autotools-i-introduction.html)
- [GNU autotools: hello world project with tests](https://programatealgo.blogspot.com/2023/05/gnu-autotools-ii-hello-world-project.html)

## Running unit tests

TODO: Document this when the solution is building again

## Running acceptance tests

Acceptance tests are built using [behave](https://behave.readthedocs.io/en/stable/index.html), a Python3 package.
To run the tests:

1. Create a Python virtual environment in the project root directory:

```
virtualenv venv
```

2. Activate the newly created virtual environment:

```
source venv/bin/activate
```

3. Install the behave module:

```
pip install behave
```

4. Go into the tests directory and run the behave command:

```
cd tests
behave
```

*Important*: these tests call the scamper binary generated by the `make` script in `$PROJECT_DIR/scamper/scamper`.
Therefore, for the tests to see changes in the code, this binary must be recompiled.
